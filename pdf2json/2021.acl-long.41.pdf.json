{
  "name" : "2021.acl-long.41.pdf",
  "metadata" : {
    "source" : "META",
    "title" : "Generating Landmark Navigation Instructions from Maps as a Graph-to-Text Problem",
    "authors" : [ "Raphael Schumann", "Stefan Riezler" ],
    "emails" : [ "rschuman@cl.uni-heidelberg.de", "riezler@cl.uni-heidelberg.de" ],
    "sections" : [ {
      "heading" : null,
      "text" : "Proceedings of the 59th Annual Meeting of the Association for Computational Linguistics and the 11th International Joint Conference on Natural Language Processing, pages 489–502\nAugust 1–6, 2021. ©2021 Association for Computational Linguistics\n489\nCar-focused navigation services are based on turns and distances of named streets, whereas navigation instructions naturally used by humans are centered around physical objects called landmarks. We present a neural model that takes OpenStreetMap representations as input and learns to generate navigation instructions that contain visible and salient landmarks from human natural language instructions. Routes on the map are encoded in a location- and rotation-invariant graph representation that is decoded into natural language instructions. Our work is based on a novel dataset of 7,672 crowd-sourced instances that have been verified by human navigation in Street View. Our evaluation shows that the navigation instructions generated by our system have similar properties as human-generated instructions, and lead to successful human navigation in Street View."
    }, {
      "heading" : "1 Introduction",
      "text" : "Current navigation services provided by the automotive industry or by Google Maps generate route instructions based on turns and distances of named streets. In contrast, humans naturally use an efficient mode of navigation based on visible and salient physical objects called landmarks. As shown by Tom and Denis (2004), route instructions based on landmarks are easier processed and memorized by humans. May et al. (2003) recommend that in pedestrian navigation systems, ”landmarks should be used as the primary means of providing directions”. Another navigation scenario where landmarks are useful is if GPS tracking is poor or not available, and if information is inexact regarding distances (e.g., in human estimates) or street names (e.g., for users riding a bicycle). We present a neural model that takes a real-world map repre-\nsentation from OpenStreetMap1 as input and generates navigation instructions that contain salient landmarks, learned directly from human natural language instructions.\nIn our framework, routes on the map are learned by discretizing the street layout, connecting street segments with adjacent points of interest, thus encoding visibility of landmarks, and encoding the route and surrounding landmarks in a location- and rotation-invariant graph. Based on crowd-sourced natural language instructions for such map representations, a graph-to-text mapping is learned that decodes graph representations into natural language route instructions that contain salient landmarks. Our work is accompanied by a dataset of 7,672 instances of routes in OpenStreetMap and corresponding crowd-sourced natural language instructions. The navigation instructions were generated by workers on the basis of maps including all points of interest, but no street names. They were verified by different workers who followed the navigation instructions on Google Street View2.\nExperimental results on randomly sampled test routes show that our graph-to-text model produces landmarks with the same frequency found in human reference instructions. Furthermore, the timenormalized success rate of human workers finding the correct goal location on Street View is 0.664. Since these routes can have a partial overlap with routes in the training set, we further performed an evaluation on completely unseen routes. The rate of produced landmarks drops slightly compared to human references, and the time-normalized success rate also drops slightly to 0.629. While there is still room for improvement, our results showcase a promising direction of research, with a wide potential of applications in various existing map\n1www.openstreetmap.org 2www.google.com/streetview\napplications and navigation systems. The main contributions of this paper are: • We collect and publish a large scale dataset of\nnatural language landmark navigation instructions that are validated by human navigation runs in Street View. • We present a method to represent geospatial\nroutes as a graph and propose an appropriate graph-to-text architecture that learns to generate navigation instructions from real-world data."
    }, {
      "heading" : "2 Related Work and Datasets",
      "text" : "Mirowski et al. (2018) published a subset of Street View covering parts of New York City and Pittsburgh. Street View is a navigable environment that is build from connected real-world 360◦panoramas. This data is used by Hermann et al. (2020) to train a visual agent to follow turn-by-turn instructions generated by Google Maps API. Chen et al. (2019) published a Street View dataset3 with more recent and higher resolution panorama images that covers the lower half of Manhattan. They further introduce the Touchdown task that has the goal to navigate\n3www.streetlearn.cc\nStreet View in order to find a hidden teddy bear. The data for that task is obtained from annotation workers that follow a predefined route in Street View and write down navigation instructions along the way. A central difference between Touchdown and our dataset is the annotation modality: Touchdown annotators use panorama images along the route, while our instruction writers only see the rendered route on a map. See Section 4.3 for a more detailed discussion.\nOur work puts the task of natural language navigation upside down by learning to generate humanlike navigation instructions from real-world map data instead of training an agent to follow human generated instructions. Prior work in this area has used rule-based systems to identify landmarks (Rousell and Zipf, 2017) or to generate landmarkbased navigation instructions (Dräger and Koller, 2012; Cercas Curry et al., 2015). Despite having all points of interest on the map available, our approach learns to verbalize only those points of interest that have been deemed salient by inclusion in a human navigation instruction. Previous approaches that learn navigation instructions from data have\nbeen confined to simplified grid-based representations of maps for restricted indoor environments (Daniele et al., 2017). de Vries et al. (2018) tackles the problem in a more sophisticated outdoor environment but the model fails to verbalize useful instructions when conditioned on more than one possible landmark. Other work generates navigation instructions from indoor panoramas along a path but provides no explicit evaluation like human navigation success. They rather use the instructions to augment the training routes for a vision and language navigation agent (Fried et al., 2018)."
    }, {
      "heading" : "3 Task",
      "text" : "The task addressed in our work is that of automatically generating Natural Language Landmark Navigation Instructions (NLLNI) from realworld open-source geographical data from OpenStreetMap. The instructions are generated a priori (Janarthanam et al., 2012) for the whole route. Training data for NLLNI was generated by human crowdsourcing workers who were given a route on an OpenStreetMap rendering of lower Manhattan, with the goal of producing a succinct natural language instruction that does not use street names or exact distances, but rather is based on landmarks. Landmarks had to be visible on the map and included, e.g., churches, cinemas, banks, shops, and public amenities such as parks or parking lots. Each generated navigation instruction was validated by another human crowdsourcing worker who had to reach the goal location by following the instruction on Google Street View.\nNLLNI outputs are distinctively different from navigation instructions produced by OpenRouteService, Google Maps, or car navigation systems. While these systems rely on stable GPS signals such that the current location along a grid of streets can be tracked exactly, we aim at use cases where GPS tracking is not available, and knowledge of distances or street names is inexact, for example, pedestrians, cyclists, or users of public transportation. The mode of NLLNI is modeled after human navigation instructions that are naturally based on a small number of distinctive and visible landmarks in order to be memorizable while still being informative enough to reach the goal. A further advantage of NLLNI is that they are based on map inputs which are more widely available and less time dependent than Street View images."
    }, {
      "heading" : "4 Data Collection",
      "text" : "Because there is no large scale dataset for NLLNI that is generated from map information only, we collect data via crowdsourcing. The annotator is shown a route on the map and writes navigation instructions based on that information (Figure 1, top). We take the approach of Chen et al. (2019) and determine correctness of navigation instructions by showing them to other annotators that try to reach the goal location in Street View (Figure 1, bottom)."
    }, {
      "heading" : "4.1 Resources and Preparation",
      "text" : "We use the static Street View dataset provided by Chen et al. (2019). This allows us to make the experiments in this work replicable. Because the panorama pictures were taken at the end of 2017, we export an OpenStreetMap extract of Manhattan from that time. OpenStreetMap (OSM) is an open source collection of geodata that can be used to render maps of the world. It features detailed street layouts and annotations for points of interest (POI) like amenities, infrastructure or land use4. We discretize the street layout by creating a node every ten meters along the roads. The resulting structure is further referenced to as the OSM graph with nodes consisting of street segments. Based on that graph, we sample routes of length between 35 and 45 nodes. A route is the shortest path between its start and end node. It includes a minimum of three intersections (i.e., a node with more than two edges) and ends in proximity to a POI. We further assure that it is possible to follow the route in Street View by verifying that a corresponding subgraph exists in the Street View graph."
    }, {
      "heading" : "4.2 Crowdsourcing",
      "text" : "We use Amazon Mechanical Turk (AMT)5 to acquire annotators. Before working on the actual tasks, workers were required to pass a tutorial and qualification test. The tutorial introduces the tasks, teaches basic mechanics of Street View and explains meaning of map icons. A feature of AMT and additional IP address6 lookup ensures that annotators are located in the United States. This increases the probability of working with native English speakers and people familiar with US street environments. We paid $0.35 per navigation instructions task and $0.20 for the navigation run\n4openstreetmap.org/wiki/Map_Features 5www.mturk.com 6IP addresses were not saved and are not part of the dataset.\ntask. Furthermore, we paid a bonus of $0.15 for successfully reaching the goal location and $0.25 for validated navigation instructions. The amounts were chosen on the basis of $10/hour. The annotation procedure involved two phases. First, an annotator wrote navigation instructions for a given route. Afterwards, a different annotator used the instructions to navigate to the goal location. If one of two annotators did so successfully, the navigation instructions were considered valid.\nNavigation Instructions Task As shown in Figure 1 (top), the annotator sees a route on a map which is rendered without street names. Workers were told to write navigation instructions as if ”a tourist is asking for directions in a neighborhood you are familiar with” and to ”mention landmarks to support orientation”. The navigation instructions were written in a text box below the map which is limited to 330 characters.\nNavigation Run Task Figure 1 (bottom) shows the Street View interface with navigation instructions faded-in at the bottom. It is possible to look around 360◦ and movement is controlled by the\nwhite arrows. In addition there is a button on the bottom left to backtrack which proved to be very helpful. The initial position is the start of the route facing in the correct direction. The annotators finish the navigation run with the bottom right button either when they think the goal location is reached or if they are lost. The task is successful if the annotator stops the run within a 25 meter radius around the goal location."
    }, {
      "heading" : "4.3 Dataset",
      "text" : "The data collection resulted in 7,672 navigation instructions that were manually validated in Street View. For additional 1,059 instructions, the validation failed, which amounts to a validation rate of 88%. Of the validated instructions, 1,033 required a second try in the navigation run task. On average, instructions are 257 characters long, with a minimum length of 110, and a maximum of 330 characters. We release the segmented OSM graph, the routes in that graph paired with the collected navigation instructions, and the data split used in\nour experiments7. Table 1 gives a comparison of different datasets with natural language landmark navigation instructions. Our dataset is the only one that uses only map information to generate navigation instructions. The advantage of relying solely on map data is the global availability and longevity of the encoded features. In contrast, navigation instructions written from Street View include temporary features like construction utilities, street advertisements, or passing vehicles. Table 2 shows a qualitative linguistic analysis of the navigation instructions of different datasets. In general, navigation instructions are driven by giving directions in imperative formulation while referencing to entities along the route. In contrast to the Touchdown task where including store names was prohibited, the entities in our instructions are often referenced to by their name. Although the instruction writers in our setting did not see the route in first person perspective, objects are vastly referenced to in egocentric manner (egocentric with respect to the navigating agent). This is because the annotator knows\n7www.cl.uni-heidelberg.de/ statnlpgroup/map2seq/\nthe starting direction and can infer the facing direction for the rest of the route. Because the initial facing direction in Touchdown is random, the first part of their instructions is about rotating the agent. This explains the higher number of occurrences of the state verification phenomenon. In our dataset, state verification is usually used to ensure the correct stopping position. The different setting of data collection is also reflected by the temporal condition phenomenon. Annotators of Touchdown write down instructions while navigating Street View and thus experience the temporal component first hand, while our annotators have a time independent look at the route."
    }, {
      "heading" : "5 Method",
      "text" : "The underlying OSM geodata of the rendered map is an XML tree of nodes located in the latitudelongitude coordinate system. The nodes are composed into ways and polygons8. These elements in connection with their annotations are used to render the visual map. In the next subsection we propose our approach to represent a route and its surrounding map features as a graph that includes all necessary information for generating landmark navigation instructions. The second subsection describes the neural graph-to-text architecture that is trained to learn inductive representations of the individual route graphs and to decode navigation instructions from them."
    }, {
      "heading" : "5.1 Map-to-Graph Representation",
      "text" : "The basis of the graph for a single route is the OSM subgraph (Section 4.1) that includes the ac-\n8www.openstreetmap.org/wiki/Elements\ntual route nodes. Further, neighboring street segment nodes are added. This is depicted in Figure 3 as green and blue circles, respectively. In order to decide on the visibility of the POIs, we employ a technique similar to that of Rousell and Zipf (2017). For each street segment, the POIs in a radius of 30 meters are identified. If a line drawn between the street segment and the POI is not interrupted by a building polygon, the POI is considered visible from that particular street segment. If the POI itself is (inside) a polygon, then the line is drawn to the closest point on the POI polygon. The orange circles in Figure 3 show the results of the visibility check and how they naturally fit into the graph structure. Each point of interest in OSM has one or more tags in the form of key and value pairs. They store properties like type or name. Note that we only determine the geometric visibility of the POIs and do not incorporate any hand-crafted salience scores as to what would be a good landmark. Instead, saliency of a landmark is implicitly learned from natural language verbalization of the POI in the human-generated instruction.\nAn example graph representation of the route in Figure 3 is given in Figure 2. Formally, a route representation is a directed graph G = (V,E), where V denotes the set of nodes and E the set of edges. A node v consists of a node type vt and a node token vw. There are V t node types and V w node tokens. Street segments are of type <street>. A point of interest has the node type <poi>. An OSM tag key has the node type <tag key> and an OSM tag value has the node type <tag value>. The node token further specifies nodes in the graph. Street segments that belong to the route have a node token <P> according to their sequential position P. The last route segment has the special token <last>. Other street segment nodes have the <neighbor> token. The actual key and value literals of an OSM tag are the node tokens of the respective node. The OSM name tag is split into multiple nodes with type <k name N> where N is the word position and the node token is the word at that position.\nAll adjacent street segment nodes are connected with an edge in both directions. If a POI is visible from a particular street segment, there is an edge from the corresponding POI node to that street segment node. Each POI node is connected with their tag key nodes. A tag value node is connected to its corresponding tag key node. The name tag nodes of the same POI are connected with each\nother. Some edges have a geometric interpretation. This is true for edges connecting a street segment with either a POI or with another street segment. These edges (u, v) ∈ EA,EA ⊂ E have a label attached. The label ang(u, v) is the binned angle between the nodes relative to route direction. The continuous angle [0◦, 360◦) is assigned to one of 12 bins. Each bin covers 30◦ with the first bin starting at 345◦. The geometric distance between nodes is not modeled explicitly because street segments are equidistant and POI visibility is determined with a maximum distance. The proposed representation of a route and its surroundings as a directed graph with partially geometric edges is location- and rotationinvariant, which greatly benefits generalization."
    }, {
      "heading" : "5.2 Graph-to-Text Architecture",
      "text" : "By representing a route as a graph, we can frame the generation of NLLNI from maps as a graphto-text problem. The encoder learns a neural representation of the input graph and the sequence decoder generates the corresponding text. The architecture follows the Transformer (Vaswani et al., 2017) but uses graph attentional layers (Veličković et al., 2018) in the encoder. Graph attention injects the graph structure by masking (multi-head) self-attention to only attend to nodes that are firstorder neighbors in the input graph. The geometric relations between some nodes are treated as edge labels which are modeled by distinct feature transformation matrices during node aggregation (Schlichtkrull et al., 2018).\nThe input to a layer of the encoder is a set of node representations, x = {x1,x2, . . . ,xN},xi ∈ Rdm , where N is the number of nodes and dm is the model size. Each layer l : Rdm → Rdm takes x and produces new node representations x′. The input to the first layer is constructed from the concatenation of type and token embedding: xi = ReLU(W F [ET\nvti ||EWvwi ]) where W F ∈ R2dm×dm\nis a weight matrix, ET ∈ Rdm and EW ∈ Rdm are embedding matrices for node types and node tokens, respectively.\nThe output of a single graph attention head is the weighted sum of neighboring node representations:\nx̄i = ∑\nj|(vj ,vi)∈E\nαij(W U r(i,j)xj) (1)\nThe weight coefficient is computed as αij = softmaxj(eij) =\nexp (eij)∑ k|(vk,vi)∈E exp (eik) where eij\nmeasures the compatibility of two node representations:\neij = LeakyReLU(a T [W V xi||W Ur(i,j)xj ]) (2)\nwhere a ∈ R2dh , W V ∈ Rdm×dh , dh = dm/h is the attention head dimension and h is the number of heads. In the case of a geometric relation between nodes, the weight matrix W Ur(i,j) ∈ R dm×dh is selected according to the angle label between the nodes: r(i, j) = ang(ui, uj), otherwise r(i, j) = unlabeled. The output of each head is concatenated and after a skip connection forwarded to the next encoder layer. The encoder layer is applied L times and the final node representations x∗ are used in the decoder context attention mechanism. Thus, no modification of the Transformer decoder is necessary and L decoder layers are used. Further, the decoder can copy node tokens from the input into the output sequence (See et al., 2017).\nThe described architecture is able to model all aspects of the input graph. Graph attention models directed edges. Edge labels model the geometric relation between nodes. Heterogeneous nodes are represented by their type embedding and token embedding. The sequentiality of the route is encoded by tokens (<1>, <2>, ...) of the respective nodes. This is analogous to absolute position embeddings which provide word order information for text encoding (Vaswani et al., 2017; Devlin et al., 2019)."
    }, {
      "heading" : "6 Experiments",
      "text" : ""
    }, {
      "heading" : "6.1 Baselines",
      "text" : "We consider two baselines. A rule based system that uses a single heuristic to construct instructions by stringing together all POIs and intersections along the route, and following each intersection by the turning direction. Similar, POIs are followed by ’left’ or ’right’ depending on which side\nof the street they appear. The end of the route is signaled by the ’stop’ token. The second baseline is a seq2seq (sequence-to-sequence) model that is trained on pairs of rule based navigation instructions and crowdsourced instructions. The seq2seq model follows the Transformer architecture (Vaswani et al., 2017) with copy mechanism and is trained with the same hyperparameters as the graph-to-text model. Examples are given in Figure 4."
    }, {
      "heading" : "6.2 Experimental Setup",
      "text" : "We construct a graph for each route as described above. On average there are 144 nodes in a graph and 3.4 edges per node. There are 8 different node types and a vocabulary of 3,791 node tokens. The hyperparameters for the graph-to-text architecture are set as follows: The embedding and hidden size is set to 256. We use 6 encoder and decoder layers with 8 attention heads. Cross entropy loss is optimized by Adam (Kingma and Ba, 2015) with a learning rate of 0.5 and batch size of 12. The embedding matrix for node tokens and output tokens is shared. Additionally we experiment with pretraining the graph-to-text model with above mentioned rule based instructions as target. This teaches the model sequentiality of route nodes and basic interpretation of the angle labels. We generate 20k instances for pretraining and further fine tune on the human generated instances. Both models and the seq2seq baseline are trained on 5,667 instances of our dataset. The best weights for each model are selected by token accuracy based early stopping on the 605 development instances."
    }, {
      "heading" : "6.3 Evaluation Metrics",
      "text" : "BLEU is calculated with SacreBLEU (Post, 2018) on lower-cased and tokenized text. Length is the average length in number of tokens. Landmarks is the number of landmark occur-\nreference: At the light with Fridays on the corner, turn right. Continue down the long street to the next light with Nine West on the right corner, then turn left. Go to the next light with Brooks Brothers on the right corner, then turn right and stop. rule based: Starbucks Coffee left subway entrance right Best Buy Mobile left Yankees right bus stop left bus stop left light right The Michelangelo left TGI Fridays left Pizza Hut left Bobby Van ’s left park right Men ’s Wearhouse left fountain left fountain left subway entrance left light left Nine West right Rockefeller Center left subway entrance right Brooks Brothers right light right stop seq2seq: Go straight to the light and make a left. Go straight to the next light and make a left. Go straight to the light and make a right. Stop one step after turning with Brooks Brothers to your right. graph2text: Walk to the light with TGI Fridays on the corner and turn right. Walk down the long block to the next light with Nine West on the left corner, then turn left. Walk to the next light with Brooks Brothers on the far right corner, then turn right. g2t+pretrain: Turn right at the first set of lights with TGI Fridays on the left corner. Pass a park on the right and turn left at the lights. Pass the fountain on the right and turn right at the lights. Take two steps and stop. Brooks Brothers is on the right corner.\nFigure 4: Route from partially seen test set paired with instructions generated by different systems.\nrences per instance. Occurrences are identified by token overlap between navigation text and tag values of POIs along the route. E.g., landmarks in the instructions in Figure 1 are: Dunkin Donuts, Bubble Tea & Crepes, Chipotle, Broadway Hotel. SDTW is success weighted by normalized Dynamic Time Warping (Ilharco et al., 2019). Distance between two nodes is defined as meters along the shortest path between the two nodes and threshold distance is 25 meters. SR is the first try success rate in the navigation run task. Success is achieved if the human navigator stops within a radius of 25 meters around the goal. SNT is success weighted by navigation time: 1 N ∑N i=1 Si t̄i ti\n, where Si is a binary success indicator that is 1 if the annotator stops within a 25 meter radius around the goal. ti is the time until the navigation run is finished. We empirically estimate the expected navigation time t̄i as 1.3 seconds9 per node in the route. This estimation ranges from 45.5 seconds for routes with 35 nodes to 58.5 seconds for routes with 45 nodes. SNT is inspired by SPL (Anderson et al., 2018a) but considers trajectory time instead of trajectory length."
    }, {
      "heading" : "6.4 Experimental Results and Analysis",
      "text" : "Results of our experimental evaluation are shown in Table 3 and 4. We evaluate on unseen data, i.e., routes without any overlap with routes in the training set, and on partially seen data, i.e., routes\n9Average over all successful navigation runs in the dataset.\nrandomly sampled from the training area with partial overlaps.10 For the baseline models we perform the human evaluation on a 200 instances subset of the full 700 instances test set.\nOn the partially seen test set with 200 instances, our proposed graph-to-text models outperform the baseline models in terms of the success based metrics. In the unseen setup, the rule based baseline achieves a better success rate, but falls short when success is weighted by navigation time. This result shows that the instructions generated by the rule based system are exact by including all possible landmarks, but obviously do not resemble natural language and high evaluation time suggests that they are hard to read. Despite moderate BLEU scores and reasonable amount of produced landmarks, the seq2seq baseline fails to generate useful navigation instructions. The pretrained graph-totext model performs better than its plain counterpart in the unseen setup. It produces more correct landmarks and higher success rates. In the extended evaluation the pretrained graph-to-text model is compared with the reference on 700 instances in each test set. Under the central evaluation metric of success normalized by time (SNT), our model reaches .664 and .629 on partially seen and unseen test data, respectively.\nAn example output for each system together with the input map is shown in Figure 4. The rule based instruction is complete, but ignores saliency\n10The data split is shown in the Appendix.\nof landmarks and is hard to read. The seq2seq baseline generates a navigation instruction that sounds human-like and also includes salient landmarks found on the map. However, the directions are incorrect in this example. The graph-to-text based models get the directions right and produce fluent natural language sentences. They include landmarks at the correct sequential position. A further qualitative evaluation of instructions generated by the graph-to-text models is given in the Appendix."
    }, {
      "heading" : "7 Conclusion",
      "text" : "We presented a dataset and suitable graph-to-text architecture to generate landmark navigation instructions in natural language from OpenStreetMap geographical data. Our neural model includes novel aspects such as a graphical representation of a route using angle labels. Our dataset consists of a few thousand navigation instructions that are verified for successful human navigation. The dataset is large enough to train a neural model to produce navigation instructions that are very similar in several aspects to human-generated instructions on partially seen test data. However, performance naturally drops on unseen data including new types of landmarks in new combinations."
    }, {
      "heading" : "Acknowledgments",
      "text" : "We would like to thank Christian Buck and Massimiliano Ciaramita for initial fruitful discussions about this work. The research reported in this paper was supported by a Google Focused Research Award on ”Learning to Negotiate Answers in MultiPass Semantic Parsing”."
    }, {
      "heading" : "A Dataset Split",
      "text" : "Figure 5: Dataset splits\nAll 700 routes that are exclusively in the green rectangle are in the unseen test set. All 605 routes that cross the green border are in the development set. None of those development set routes extend further than the blue rectangle. The training set consists of routes within the red rectangle but outside of the green rectangle. The partially seen test set consists of 700 randomly sampled routes from the training set (and removed from the training set). Partially seen means that subsequences of those routes can be present in the training set."
    }, {
      "heading" : "B Evaluation Navigation Success Rate Analysis",
      "text" : "We analyze the navigation success rate with respect to properties of the corresponding routes. Figure 6\nshows that the length of the route has little influence on the navigation success rate on the partially seen test set. On the unseen data there is tendency in favor of shorter routes for the g2t+pretrain model. The reference instructions do not show such bias. Figure 8 shows navigation success with respect to number of turns in a route which is another complexity indicator. The success rate drops with an increasing number of turns for all systems but not for the reference instructions. The analysis reveals that performance of our model drops with increasing route complexity while it is stable for reference instructions. The rule based system appears to be more stable with increasing number of turns in comparison to the learned models."
    }, {
      "heading" : "C Landmarks",
      "text" : "Table 5 and 6 presents a scoring of types of landmarks produced by our pretrained model. A comparison of landmarks produced in human-generated reference instructions to those produced in modelgenerated instructions shows a large overlap on partially seen data, and ranking is similar to handcrafted salient scores used in work in geoinformat-\nics (Rousell and Zipf, 2017). The distribution of landmarks in the unseen test data is different from the partially seen data. To some extent, the model is able to adapt to the unseen environment."
    }, {
      "heading" : "D Annotation Instructions",
      "text" : "The AMT workers got the following instructions for the writing task:\nThe goal of this task is to write navigation instructions for a given route. Imagine a tourist is asking for directions in a neighborhood you are familiar with and try to mention useful landmarks to support orientation. Another annotator will later read your instructions in order to find the goal location in StreetView (Navigation Run Task). If the other annotator successfully navigates to the goal location, your instruction is validated.\nE Examples\nreference: Head straight past the playground and turn left at the light. Turn right at the next light with Fantastic Cafe on the right. Continue down the very long street and stop at the next light with turntable 5060 on the near left corner. rule based: parking left pitch left playground left pitch left bus stop right light left Citibank left light right Fantastic Cafe left Church of the right Dorian Gray Tap left Perbacco left Matcha Cafe Wabi left B4 left stop seq2seq: Go straight to the light and turn left. Go straight to the first light and turn left. Go straight to the first light and stop a couple of steps before the next light. You should see Perbacco on your left. graph2text: Head to the light and turn left. At the next light with Fantastic cafe on your near right corner, turn right. Go to the next light and stop in the middle of the intersection. B4 Gray Tap should be on your left. g2t+pretrain: Head to the light and turn left. At the following light with Fantastic cafe on the far left corner, turn right. Go to the next light with 4th street Deli on the near left corner and stop in the middle of the intersection.\nreference: Turn right at the light right ahead of you. Go through the following light. The next light is a double intersection. Turn left at the first of the lights, and go through the second one. Pass a graveyard on the right and stop at the end of it, right as the church starts. It’s about 2/3 down the block. rule based: Garden left light right Chef Restaurant Supplies right light straight bus stop left light left light straight grave yard right stop Saint Patrick’s right seq2seq: Go to the light and turn right. Go through the following light, Restaurant on the corner. Pass a bus stop on the right, and go through the light. At the following light, bus stop on the corner, turn left. Go through the following light, and stop after a step or two. Saint Mary’s church will be on the right. graph2text: Turn right at the first set of lights. Go through the next set of lights and then turn left at the following lights. Pass Second Time Around half way down the block. Stop at Saint’s around Saint’s church on the right. g2t+pretrain: Go to the light and turn right. Go straight through 1 light and at the following light, there should be a bus stop on the far left corner. Turn left and go about 1/2 to the next light, stopping in front of Saint Patrick’s church on the right and graveyard Memorial’s on the right.\nFigure 10: Route from unseen test set with successful navigation for g2t+pretrain.\nreference: Go to the light and turn right. Go through the following light with Optical 88. The next light will have Da Gennaro on the far right corner, go through the light. Go through the following light as well, with a school on the corner. Turn right at the following light. Take the first left possible and stop after a few steps. rule based: Hong Kong Supermarket left light right Sweet Moment left light straight 12 Corners right light straight Da Gennaro right Public School 130 right light straight parking left May Wah Vegetarian right Hair Lounge right light right intersection left stop seq2seq: Go straight and take a right at the intersection where Hong Kong supermarket is. Go through the next three intersections and at the fourth one take a right and stop at Hair Lounge. graph2text: Go to the light and turn right. Go through the following light, Optical 88 on the corner. Go through the following light as well, Da Gennaro on the corner. At the following light, Hair Lounge on the corner, turn right. Take a step and stop. g2t+pretrain: Head to the light and turn right. Go past the next 2 lights with Da Gennaro on the right corner. At the 3rd light with May Wah Vegetarian on the far right corner, turn left. Take one step and stop.\nreference: Go straight to the light and turn right. Go through the next 3 lights. At the 4th, there is a Chase and Nike store on the corners. Go through the intersection and stop on the other side at your destination. rule based: Public School 21 left light right Lombardi’s Pizza left park left Rice to Riches right drinking water left playground left Taı̈m right light straight Tartinery left Duane Reade left light straight restaurant left Premium Laces right Starbucks left light straight MUJI at MoMA right Balthazar left SoHo left light straight Niketown right stop Chase left Chase left shelter left seq2seq: Head to the light and turn right. Go past the next 3 lights with Starbucks on the left corner. At the 4th light with Chase bank on the near left corner, cross the street and stop. graph2text: Head to the light and turn right. Go past the next 2 lights with Starbucks on the far left corner. At the 3rd light with Chase on the far left corner, cross the street and stop. Chase should be on your left. g2t+pretrain: Head to the light and turn right. Go past the next 3 lights with Starbucks on the left corner. At the 4th light with Chase on the near left corner, cross the street. Take one step and stop.\nFigure 12: Route from unseen test set with unsuccessful navigation for g2t+pretrain."
    } ],
    "references" : [ {
      "title" : "On evaluation",
      "author" : [ "Peter Anderson", "Angel X. Chang", "Devendra Singh Chaplot", "Alexey Dosovitskiy", "Saurabh Gupta", "Vladlen Koltun", "Jana Kosecka", "Jitendra Malik", "Roozbeh Mottaghi", "Manolis Savva", "Amir Roshan Zamir" ],
      "venue" : null,
      "citeRegEx" : "Anderson et al\\.,? \\Q2018\\E",
      "shortCiteRegEx" : "Anderson et al\\.",
      "year" : 2018
    }, {
      "title" : "2018b. Visionand-language navigation: Interpreting visuallygrounded navigation instructions in real environ",
      "author" : [ "Peter Anderson", "Qi Wu", "Damien Teney", "Jake Bruce", "Mark Johnson", "Niko Sünderhauf", "Ian Reid", "Stephen Gould", "Anton van den Hengel" ],
      "venue" : null,
      "citeRegEx" : "Anderson et al\\.,? \\Q2018\\E",
      "shortCiteRegEx" : "Anderson et al\\.",
      "year" : 2018
    }, {
      "title" : "Generating and evaluating landmarkbased navigation instructions in virtual",
      "author" : [ "Amanda Cercas Curry", "Dimitra Gkatzia", "Verena Rieser" ],
      "venue" : null,
      "citeRegEx" : "Curry et al\\.,? \\Q2015\\E",
      "shortCiteRegEx" : "Curry et al\\.",
      "year" : 2015
    }, {
      "title" : "Touchdown: Natural language navigation and spatial reasoning in visual street environments",
      "author" : [ "H. Chen", "A. Suhr", "D. Misra", "N. Snavely", "Y. Artzi." ],
      "venue" : "2019 IEEE/CVF Conference on Computer Vision and Pattern Recognition (CVPR), pages 12530–",
      "citeRegEx" : "Chen et al\\.,? 2019",
      "shortCiteRegEx" : "Chen et al\\.",
      "year" : 2019
    }, {
      "title" : "Navigational instruction generation as inverse reinforcement learning with neural machine translation",
      "author" : [ "Andrea F. Daniele", "Mohit Bansal", "Matthew R. Walter." ],
      "venue" : "2017 12th ACM/IEEE International Conference on Human-Robot Interaction",
      "citeRegEx" : "Daniele et al\\.,? 2017",
      "shortCiteRegEx" : "Daniele et al\\.",
      "year" : 2017
    }, {
      "title" : "BERT: Pre-training of deep bidirectional transformers for language understanding",
      "author" : [ "Jacob Devlin", "Ming-Wei Chang", "Kenton Lee", "Kristina Toutanova." ],
      "venue" : "Proceedings of the 2019 Conference of the North American Chapter of the Association",
      "citeRegEx" : "Devlin et al\\.,? 2019",
      "shortCiteRegEx" : "Devlin et al\\.",
      "year" : 2019
    }, {
      "title" : "Generation of landmark-based navigation instructions from open-source data",
      "author" : [ "Markus Dräger", "Alexander Koller." ],
      "venue" : "Proceedings of the 13th Conference of the European Chapter of the Association for Computational Linguistics, pages 757–766, Avi-",
      "citeRegEx" : "Dräger and Koller.,? 2012",
      "shortCiteRegEx" : "Dräger and Koller.",
      "year" : 2012
    }, {
      "title" : "Speaker-follower models for vision-and-language navigation",
      "author" : [ "Daniel Fried", "Ronghang Hu", "Volkan Cirik", "Anna Rohrbach", "Jacob Andreas", "Louis-Philippe Morency", "Taylor Berg-Kirkpatrick", "Kate Saenko", "Dan Klein", "Trevor Darrell." ],
      "venue" : "Advances in",
      "citeRegEx" : "Fried et al\\.,? 2018",
      "shortCiteRegEx" : "Fried et al\\.",
      "year" : 2018
    }, {
      "title" : "Learning to follow directions in street view",
      "author" : [ "Karl Moritz Hermann", "Mateusz Malinowski", "Piotr Mirowski", "Andras Banki-Horvath", "Keith Anderson", "Raia Hadsell." ],
      "venue" : "Proceedings of the AAAI Conference on Artificial Intelligence, 34(07):11773–",
      "citeRegEx" : "Hermann et al\\.,? 2020",
      "shortCiteRegEx" : "Hermann et al\\.",
      "year" : 2020
    }, {
      "title" : "Effective and general evaluation for instruction conditioned navigation using dynamic time warping",
      "author" : [ "Gabriel Ilharco", "Vihan Jain", "Alexander Ku", "Eugene Ie", "Jason Baldridge." ],
      "venue" : "NeurIPS Visually Grounded Interaction and Language Workshop.",
      "citeRegEx" : "Ilharco et al\\.,? 2019",
      "shortCiteRegEx" : "Ilharco et al\\.",
      "year" : 2019
    }, {
      "title" : "A web-based evaluation framework for spatial instruction-giving systems",
      "author" : [ "Srinivasan Janarthanam", "Oliver Lemon", "Xingkun Liu." ],
      "venue" : "Proceedings of the ACL 2012 System Demonstrations, pages 49– 54, Jeju Island, Korea. Association for Computa-",
      "citeRegEx" : "Janarthanam et al\\.,? 2012",
      "shortCiteRegEx" : "Janarthanam et al\\.",
      "year" : 2012
    }, {
      "title" : "Adam: A method for stochastic optimization",
      "author" : [ "Diederik P. Kingma", "Jimmy Ba." ],
      "venue" : "ICLR (Poster).",
      "citeRegEx" : "Kingma and Ba.,? 2015",
      "shortCiteRegEx" : "Kingma and Ba.",
      "year" : 2015
    }, {
      "title" : "Room-Across-Room: Multilingual vision-and-language navigation with dense spatiotemporal grounding",
      "author" : [ "Alexander Ku", "Peter Anderson", "Roma Patel", "Eugene Ie", "Jason Baldridge." ],
      "venue" : "Conference on Empirical Methods for Natural Language Process-",
      "citeRegEx" : "Ku et al\\.,? 2020",
      "shortCiteRegEx" : "Ku et al\\.",
      "year" : 2020
    }, {
      "title" : "Walk the talk: Connecting language, knowledge, and action in route instructions",
      "author" : [ "Matt MacMahon", "Brian Stankiewicz", "Benjamin Kuipers." ],
      "venue" : "Proceedings of the 21st National Conference on Artificial Intelligence - Volume 2, AAAI’06, page",
      "citeRegEx" : "MacMahon et al\\.,? 2006",
      "shortCiteRegEx" : "MacMahon et al\\.",
      "year" : 2006
    }, {
      "title" : "Pedestrian navigation aids: information requirements and design implications",
      "author" : [ "Andrew J. May", "Tracy Ross", "Steven H. Bayer", "Mikko J. Tarkiainen." ],
      "venue" : "Personal and Ubiquitous Computing, 7(6):331–338.",
      "citeRegEx" : "May et al\\.,? 2003",
      "shortCiteRegEx" : "May et al\\.",
      "year" : 2003
    }, {
      "title" : "Learning to navigate in cities without a map",
      "author" : [ "Piotr Mirowski", "Matt Grimes", "Mateusz Malinowski", "Karl Moritz Hermann", "Keith Anderson", "Denis Teplyashin", "Karen Simonyan", "koray kavukcuoglu", "Andrew Zisserman", "Raia Hadsell" ],
      "venue" : null,
      "citeRegEx" : "Mirowski et al\\.,? \\Q2018\\E",
      "shortCiteRegEx" : "Mirowski et al\\.",
      "year" : 2018
    }, {
      "title" : "A call for clarity in reporting BLEU scores",
      "author" : [ "Matt Post." ],
      "venue" : "Proceedings of the Third Conference on Machine Translation: Research Papers, pages 186– 191, Belgium, Brussels. Association for Computational Linguistics.",
      "citeRegEx" : "Post.,? 2018",
      "shortCiteRegEx" : "Post.",
      "year" : 2018
    }, {
      "title" : "Towards a landmark-based pedestrian navigation service using osm data",
      "author" : [ "Adam Rousell", "Alexander Zipf." ],
      "venue" : "ISPRS International Journal of GeoInformation, 6(3):64.",
      "citeRegEx" : "Rousell and Zipf.,? 2017",
      "shortCiteRegEx" : "Rousell and Zipf.",
      "year" : 2017
    }, {
      "title" : "Modeling relational data with graph convolutional networks",
      "author" : [ "Michael Schlichtkrull", "Thomas N. Kipf", "Peter Bloem", "Rianne van den Berg", "Ivan Titov", "Max Welling." ],
      "venue" : "The Semantic Web, pages 593– 607, Cham. Springer International Publishing.",
      "citeRegEx" : "Schlichtkrull et al\\.,? 2018",
      "shortCiteRegEx" : "Schlichtkrull et al\\.",
      "year" : 2018
    }, {
      "title" : "Get to the point: Summarization with pointergenerator networks",
      "author" : [ "Abigail See", "Peter J. Liu", "Christopher D. Manning." ],
      "venue" : "Proceedings of the 55th Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers), pages 1073–",
      "citeRegEx" : "See et al\\.,? 2017",
      "shortCiteRegEx" : "See et al\\.",
      "year" : 2017
    }, {
      "title" : "Language and spatial cognition: comparing the roles of landmarks and street names in route instructions",
      "author" : [ "Ariane Tom", "Michel Denis." ],
      "venue" : "Applied Cognitive Psychology, 18(9):1213–1230.",
      "citeRegEx" : "Tom and Denis.,? 2004",
      "shortCiteRegEx" : "Tom and Denis.",
      "year" : 2004
    }, {
      "title" : "Talk2nav: Long-range vision-andlanguage navigation with dual attention and spatial memory",
      "author" : [ "Arun Balajee Vasudevan", "Dengxin Dai", "Luc Van Gool" ],
      "venue" : null,
      "citeRegEx" : "Vasudevan et al\\.,? \\Q2020\\E",
      "shortCiteRegEx" : "Vasudevan et al\\.",
      "year" : 2020
    }, {
      "title" : "Attention is all you need",
      "author" : [ "Ashish Vaswani", "Noam Shazeer", "Niki Parmar", "Jakob Uszkoreit", "Llion Jones", "Aidan N Gomez", "Ł ukasz Kaiser", "Illia Polosukhin." ],
      "venue" : "I. Guyon, U. V. Luxburg, S. Bengio, H. Wallach, R. Fergus, S. Vishwanathan, and R. Gar-",
      "citeRegEx" : "Vaswani et al\\.,? 2017",
      "shortCiteRegEx" : "Vaswani et al\\.",
      "year" : 2017
    }, {
      "title" : "Graph attention networks",
      "author" : [ "Petar Veličković", "Guillem Cucurull", "Arantxa Casanova", "Adriana Romero", "Pietro Liò", "Yoshua Bengio." ],
      "venue" : "International Conference on Learning Representations.",
      "citeRegEx" : "Veličković et al\\.,? 2018",
      "shortCiteRegEx" : "Veličković et al\\.",
      "year" : 2018
    }, {
      "title" : "Talk the walk: Navigating new york city through grounded dialogue",
      "author" : [ "Harm de Vries", "Kurt Shuster", "Dhruv Batra", "Devi Parikh", "Jason Weston", "Douwe Kiela." ],
      "venue" : "CoRR, abs/1807.03367.",
      "citeRegEx" : "Vries et al\\.,? 2018",
      "shortCiteRegEx" : "Vries et al\\.",
      "year" : 2018
    } ],
    "referenceMentions" : [ {
      "referenceID" : 17,
      "context" : "Prior work in this area has used rule-based systems to identify landmarks (Rousell and Zipf, 2017) or to generate landmarkbased navigation instructions (Dräger and Koller, 2012; Cercas Curry et al.",
      "startOffset" : 74,
      "endOffset" : 98
    }, {
      "referenceID" : 6,
      "context" : "Prior work in this area has used rule-based systems to identify landmarks (Rousell and Zipf, 2017) or to generate landmarkbased navigation instructions (Dräger and Koller, 2012; Cercas Curry et al., 2015).",
      "startOffset" : 152,
      "endOffset" : 204
    }, {
      "referenceID" : 4,
      "context" : "491 been confined to simplified grid-based representations of maps for restricted indoor environments (Daniele et al., 2017).",
      "startOffset" : 102,
      "endOffset" : 124
    }, {
      "referenceID" : 7,
      "context" : "They rather use the instructions to augment the training routes for a vision and language navigation agent (Fried et al., 2018).",
      "startOffset" : 107,
      "endOffset" : 127
    }, {
      "referenceID" : 10,
      "context" : "The instructions are generated a priori (Janarthanam et al., 2012) for the whole route.",
      "startOffset" : 40,
      "endOffset" : 66
    }, {
      "referenceID" : 13,
      "context" : "Dataset: Talk the Walk (MacMahon et al., 2006); Room-to-Room (Anderson et al.",
      "startOffset" : 23,
      "endOffset" : 46
    }, {
      "referenceID" : 3,
      "context" : ", 2018b); Touchdown (Chen et al., 2019); Talk2Nav (Vasudevan et al.",
      "startOffset" : 20,
      "endOffset" : 39
    }, {
      "referenceID" : 21,
      "context" : ", 2019); Talk2Nav (Vasudevan et al., 2020); Room-X-Room (Ku et al.",
      "startOffset" : 18,
      "endOffset" : 42
    }, {
      "referenceID" : 12,
      "context" : ", 2020); Room-X-Room (Ku et al., 2020); map2seq (this work).",
      "startOffset" : 21,
      "endOffset" : 38
    }, {
      "referenceID" : 3,
      "context" : ", 2018b) and Touchdown (Chen et al., 2019) taken from the latter.",
      "startOffset" : 23,
      "endOffset" : 42
    }, {
      "referenceID" : 22,
      "context" : "The architecture follows the Transformer (Vaswani et al., 2017) but uses graph attentional layers (Veličković et al.",
      "startOffset" : 41,
      "endOffset" : 63
    }, {
      "referenceID" : 23,
      "context" : ", 2017) but uses graph attentional layers (Veličković et al., 2018) in the encoder.",
      "startOffset" : 42,
      "endOffset" : 67
    }, {
      "referenceID" : 18,
      "context" : "The geometric relations between some nodes are treated as edge labels which are modeled by distinct feature transformation matrices during node aggregation (Schlichtkrull et al., 2018).",
      "startOffset" : 156,
      "endOffset" : 184
    }, {
      "referenceID" : 19,
      "context" : "Further, the decoder can copy node tokens from the input into the output sequence (See et al., 2017).",
      "startOffset" : 82,
      "endOffset" : 100
    }, {
      "referenceID" : 22,
      "context" : "This is analogous to absolute position embeddings which provide word order information for text encoding (Vaswani et al., 2017; Devlin et al., 2019).",
      "startOffset" : 105,
      "endOffset" : 148
    }, {
      "referenceID" : 5,
      "context" : "This is analogous to absolute position embeddings which provide word order information for text encoding (Vaswani et al., 2017; Devlin et al., 2019).",
      "startOffset" : 105,
      "endOffset" : 148
    }, {
      "referenceID" : 22,
      "context" : "The seq2seq model follows the Transformer architecture (Vaswani et al., 2017) with copy mechanism and is trained with the same hyperparameters as the graph-to-text model.",
      "startOffset" : 55,
      "endOffset" : 77
    }, {
      "referenceID" : 11,
      "context" : "Cross entropy loss is optimized by Adam (Kingma and Ba, 2015) with a learning rate of 0.",
      "startOffset" : 40,
      "endOffset" : 61
    }, {
      "referenceID" : 16,
      "context" : "BLEU is calculated with SacreBLEU (Post, 2018) on lower-cased and tokenized text.",
      "startOffset" : 34,
      "endOffset" : 46
    }, {
      "referenceID" : 9,
      "context" : "SDTW is success weighted by normalized Dynamic Time Warping (Ilharco et al., 2019).",
      "startOffset" : 60,
      "endOffset" : 82
    } ],
    "year" : 2021,
    "abstractText" : "Car-focused navigation services are based on turns and distances of named streets, whereas navigation instructions naturally used by humans are centered around physical objects called landmarks. We present a neural model that takes OpenStreetMap representations as input and learns to generate navigation instructions that contain visible and salient landmarks from human natural language instructions. Routes on the map are encoded in a locationand rotation-invariant graph representation that is decoded into natural language instructions. Our work is based on a novel dataset of 7,672 crowd-sourced instances that have been verified by human navigation in Street View. Our evaluation shows that the navigation instructions generated by our system have similar properties as human-generated instructions, and lead to successful human navigation in Street View.",
    "creator" : "LaTeX with hyperref"
  }
}